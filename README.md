# Cheersin - ä½ çš„ AI æ´¾å°éˆé­‚ä¼´ä¾¶ ğŸ‰

ç¾ä»£åŒ–æ´¾å°éŠæˆ²èˆ‡éˆé­‚é…’æ¸¬å¹³å°ï¼šè¶…é 90+ æ¬¾äº’å‹•éŠæˆ²ã€AI ä¾é…’å¸«ã€å“é…’å­¸é™¢èˆ‡ 18+ è¾£å‘³å°ˆå€ã€‚å°ˆç‚ºèšæœƒã€æƒ…ä¾¶èˆ‡æ´¾å°è¨­è¨ˆã€‚

## ğŸš€ åŠŸèƒ½ç‰¹è‰²

### ğŸ® éŠæˆ²é›†åˆ
- **30+ ç²¾é¸æ´¾å°éŠæˆ²** - æ¶µè“‹ç¶“å…¸èˆ‡å‰µæ–°éŠæˆ²
- **å¤šç¨®éŠæˆ²é¡å‹**ï¼š
  - ğŸ‰ æ´¾å°éŠæˆ² (Party) - ç¶“å…¸èšæœƒéŠæˆ²
  - âš¡ åæ‡‰æ¸¬è©¦ (Reaction) - è€ƒé©—åæ‡‰é€Ÿåº¦
  - ğŸ¯ ç«¶æŠ€å°æ±º (Guess) - çŒœæ¸¬èˆ‡ç­–ç•¥éŠæˆ²
  - ğŸ² éš¨æ©Ÿé¸äºº (Draw) - æŠ½ç±¤èˆ‡é¸æ“‡éŠæˆ²
  - ğŸ‘€ 2äººå°ˆå±¬ (Face-to-face) - é›™äººäº’å‹•éŠæˆ²
  - ğŸ” 18+è¾£å‘³ (Adult) - æˆäººä¸»é¡ŒéŠæˆ²

### ğŸ¨ æŠ€è¡“äº®é»
- **ç¾ä»£åŒ–UIè¨­è¨ˆ** - ä½¿ç”¨Tailwind CSSå’Œç»ç’ƒæ“¬æ…‹æ•ˆæœ
- **æµæš¢å‹•ç•«** - Framer Motioné©…å‹•çš„äº’å‹•é«”é©—
- **éŸ¿æ‡‰å¼è¨­è¨ˆ** - å®Œç¾é©é…æ‰‹æ©Ÿã€å¹³æ¿å’Œæ¡Œé¢è¨­å‚™
- **å³æ™‚å¤šäººéŠæˆ²** - Supabaseå¯¦æ™‚åŠŸèƒ½æ”¯æŒ
- **éŸ³æ•ˆåé¥‹** - æ²‰æµ¸å¼éŠæˆ²é«”é©—
- **éŠæˆ²ç‹€æ…‹æŒä¹…åŒ–** - æœ¬åœ°å­˜å„²å’Œé›²ç«¯åŒæ­¥

### ğŸ”§ æŠ€è¡“æ£§
- **å‰ç«¯æ¡†æ¶**: Next.js 15.5.7 (App Router) â€” P2-221ï¼šå‡ç´šæ™‚è«‹è¦‹ `package.json` ä¾è³´èˆ‡æœ¬èªªæ˜
- **èªè¨€**: TypeScript
- **UIåº«**: React 19
- **æ¨£å¼**: Tailwind CSS
- **å‹•ç•«**: Framer Motion
- **å¾Œç«¯**: Supabase (PostgreSQL + Realtime)
- **éƒ¨ç½²**: Vercel

## ğŸ”’ å®‰å…¨æªæ–½

### ç’°å¢ƒè®Šæ•¸ä¿è­·
```bash
# å·²åœ¨ .gitignore ä¸­ä¿è­·çš„æ•æ„Ÿæ–‡ä»¶
.env.local
.env.production
.env.development.local
.env.test.local
.env.production.local
```

### APIå¯†é‘°ç®¡ç†
- æ‰€æœ‰ç¬¬ä¸‰æ–¹APIå¯†é‘°é€šéç’°å¢ƒè®Šæ•¸ç®¡ç†
- æ•æ„Ÿé…ç½®ä¸åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­
- ä½¿ç”¨Vaultæˆ–åŠ å¯†æœå‹™é€²è¡Œå¯†é‘°è¼ªæ›

### å®‰å…¨å¯¦è¸
- è¼¸å…¥é©—è­‰å’Œæ¸…ç†
- é˜²æ­¢XSSå’ŒCSRFæ”»æ“Š
- å®‰å…¨çš„æœƒè©±ç®¡ç†
- é©ç•¶çš„éŒ¯èª¤è™•ç†ï¼Œé¿å…ä¿¡æ¯æ´©éœ²

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
cheersin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”œâ”€â”€ components/          # Reactçµ„ä»¶
â”‚   â”‚   â””â”€â”€ games/          # éŠæˆ²çµ„ä»¶
â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ contexts/           # React Context
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šç¾©Hooks
â”‚   â”œâ”€â”€ lib/                # å·¥å…·å‡½æ•¸å’Œé‚è¼¯
â”‚   â””â”€â”€ types/              # TypeScripté¡å‹
â”œâ”€â”€ data/                   # éœæ…‹æ•¸æ“š
â”œâ”€â”€ supabase/               # æ•¸æ“šåº«é·ç§»å’Œå‡½æ•¸
â”œâ”€â”€ public/                 # éœæ…‹è³‡æº
â””â”€â”€ scripts/                # è…³æœ¬å·¥å…·
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒè¦æ±‚
- Node.js 18+
- npm æˆ– yarn

### å®‰è£æ­¥é©Ÿ

1. **å…‹éš†å°ˆæ¡ˆ**
```bash
git clone https://github.com/justsum66/cheersin.git
cd cheersin
```

2. **å®‰è£ä¾è³´**
```bash
npm install
```

3. **ç’°å¢ƒé…ç½®ï¼ˆå¿…è®€ï¼‰**
```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬ï¼ˆå®Œæ•´è®Šé‡èˆ‡è¨»è§£è¦‹ .env.exampleï¼‰
cp .env.example .env.local

# ç·¨è¼¯ .env.local ä¸¦å¡«å…¥ä½ çš„é…ç½®
```
**é—œéµç’°å¢ƒè®Šé‡ï¼š** `NEXT_PUBLIC_SUPABASE_URL`ã€`NEXT_PUBLIC_SUPABASE_ANON_KEY`ã€`SUPABASE_SERVICE_ROLE_KEY`ï¼ˆå¾Œç«¯ï¼‰ã€`GROQ_API_KEY`ï¼ˆChat ä¸»ç·šï¼Œå¿…å¡«ï¼‰ã€`OPENROUTER_API_KEY`ï¼ˆEmbedding + Chat fallbackï¼Œå¿…å¡«ï¼‰ã€`NVIDIA_NIM_API_KEY`ï¼ˆChat fallbackï¼Œé¸å¡«ï¼‰ã€‚Chat é †åºç”± `CHAT_PRIMARY`ã€`CHAT_FALLBACK_ORDER` æ§åˆ¶ï¼ˆé è¨­ groq â†’ nim â†’ openrouterï¼‰ã€‚PayPal ç›¸é—œï¼ˆ`PAYPAL_CLIENT_ID`ã€`PAYPAL_CLIENT_SECRET`ã€`PAYPAL_WEBHOOK_ID`ï¼‰ã€‚è©³è¦‹ [.env.example](.env.example)ã€‚

**å¾Œç«¯ env å–®ä¸€ä¾†æºï¼š** æ‰€æœ‰ APIã€libã€scripts æ‡‰ç¶“ `src/lib/env-config.ts` è®€å–ç’°å¢ƒè®Šæ•¸ï¼Œå‹¿åœ¨ route/lib ç›´æ¥ä½¿ç”¨ `process.env`ï¼ˆé™¤ `NODE_ENV` ç­‰æ¡†æ¶ç”¨è®Šæ•¸ï¼‰ã€‚

4. **å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**
```bash
npm run dev
```

5. **è¨ªå•æ‡‰ç”¨**
æ‰“é–‹ç€è¦½å™¨è¨ªå• `http://localhost:3000`ï¼ˆæ”¹åŸ ï¼š`PORT=3099 npm run dev`ï¼‰

### å¸¸ç”¨æŒ‡ä»¤
```bash
npm run validate-env  # é©—è­‰ç’°å¢ƒè®Šæ•¸ï¼ˆstart å‰è‡ªå‹•åŸ·è¡Œï¼‰
npm run lint         # ESLint æª¢æŸ¥
npx tsc --noEmit     # TypeScript å‹åˆ¥æª¢æŸ¥
npm run build        # ç”Ÿç”¢å»ºç½®
npm run test:run     # å–®æ¬¡å…¨é‡æ¸¬è©¦
npm run test:stress  # å…©è¼ªæ¸¬è©¦ï¼ˆå£“åŠ›/ç©©å®šæ€§ï¼‰
```

### éƒ¨ç½²ï¼æ•´åˆå‰æª¢æŸ¥
å»ºè­°åœ¨æäº¤æˆ–éƒ¨ç½²å‰ä¾åºåŸ·è¡Œï¼š
1. `npm run validate-env` â€” æª¢æŸ¥ .env.local å¿…å¡«èˆ‡æ ¼å¼
2. `npm run lint` â€” ç¨‹å¼ç¢¼é¢¨æ ¼
3. `npx tsc --noEmit` â€” å‹åˆ¥æª¢æŸ¥
4. `npm run test:run` â€” å–®å…ƒèˆ‡æ•´åˆæ¸¬è©¦
5. `npm run build` â€” ç”Ÿç”¢å»ºç½®

## ğŸ¯ å»ºç½®èˆ‡éƒ¨ç½²ï¼ˆDEV-011ï¼‰

æ–°äººå¯ä¾ä¸‹åˆ—æ­¥é©Ÿè·‘èµ·å°ˆæ¡ˆï¼š**å¿«é€Ÿé–‹å§‹**ï¼ˆä¸Šæ–¹ï¼‰â†’ **å»ºç½®** `npm run build` â†’ **å•Ÿå‹•** `npm start`ã€‚è©³è¦‹ [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md)ã€‚

### Vercel éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰
```bash
# å®‰è£ Vercel CLI
npm install -g vercel

# éƒ¨ç½²åˆ° Vercelï¼ˆéœ€å…ˆè¨­å®šç’°å¢ƒè®Šæ•¸æ–¼ Vercel å°ˆæ¡ˆï¼‰
vercel
```

éœæ…‹è³‡æºç”± Vercel Edge/CDN æä¾›ï¼›é—œéµ API çš„ Cache-Control è¦‹ `docs/performance-audit.md`ï¼ˆPERF-019/PERF-008ï¼‰ã€‚

### æ‰‹å‹•éƒ¨ç½²
```bash
# å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run build

# å•Ÿå‹•ç”Ÿç”¢ä¼ºæœå™¨ï¼ˆéœ€å·²è¨­å®š .env.local æˆ–ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸ï¼‰
npm start
```

CI æµç¨‹èˆ‡æœ¬åœ°ä¸€è‡´ï¼šlint â†’ unit tests â†’ build â†’ E2Eï¼›è¦‹ `CONTRIBUTING.md`ã€‚

## ğŸ§ª æ¸¬è©¦

```bash
# é–‹ç™¼æ¨¡å¼ï¼ˆwatchï¼‰
npm test

# å–®æ¬¡åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦ï¼ˆCIï¼‰
npm run test:run
# æˆ–
npx vitest run

# å–®ä¸€æª”æ¡ˆæˆ–è·¯å¾‘
npx vitest run src/lib/example.test.ts

# éŠæˆ² smoke æ¸¬è©¦
npx vitest run src/components/games/__tests__/games.smoke.test.tsx
```

## ğŸ“Š ç›£æ§èˆ‡æ—¥èªŒ

### éŒ¯èª¤è¿½è¹¤
- é›†ä¸­å¼éŒ¯èª¤è¨˜éŒ„
- ç”¨æˆ¶è¡Œç‚ºåˆ†æ
- æ€§èƒ½ç›£æ§

### æ—¥èªŒç®¡ç†
```typescript
// src/lib/logger.ts
import { logger } from '@/lib/logger'

logger.info('éŠæˆ²é–‹å§‹', { gameId, players })
logger.error('éŠæˆ²éŒ¯èª¤', { error, gameId })
```

## ğŸ”„ æ•¸æ“šåº«é·ç§»

```bash
# é¦–æ¬¡æˆ–æ›´æ›å°ˆæ¡ˆï¼šéœ€å…ˆ linkï¼ˆé€£çµé ç«¯ Supabase å°ˆæ¡ˆï¼‰
npm run supabase:link
# æˆ–ï¼šnpx supabase link --project-ref wdegandlipgdvqhgmoai

# æ¨é€ migrations åˆ°é ç«¯ DB
npm run supabase:push

# ä¸€éµï¼šlink + db push + functions deployï¼ˆéœ€ .env.local æœ‰ SUPABASE_DB_PASSWORDï¼‰
npm run supabase:deploy
```

è‹¥ `supabase:push` å ±éŒ¯ `Cannot find project ref. Have you run supabase link?`ï¼Œè«‹å…ˆåŸ·è¡Œ `npm run supabase:link`ã€‚ç„¡ CLI æ¬Šé™æ™‚ï¼Œå¯åˆ° Supabase Dashboard â†’ SQL Editor æ‰‹å‹•åŸ·è¡Œ `supabase/migrations/RUN_ALL_IN_DASHBOARD.sql`ã€‚

## API éŒ¯èª¤ç¢¼ä¸€è¦½

API éŒ¯èª¤å›æ‡‰æ ¼å¼ç‚º `{ success: false, error: { code, message } }`ã€‚éŒ¯èª¤ç¢¼èˆ‡ä½¿ç”¨è€…è¨Šæ¯ä»¥ **å–®ä¸€ä¾†æº** å®šç¾©æ–¼ `src/lib/api-error-codes.ts`ï¼Œä¾› route èˆ‡å‰ç«¯ i18n å°é½Šã€‚

| é ˜åŸŸ | å¸¸æ•¸ç‰©ä»¶ | ç”¨é€” |
|------|----------|------|
| éŠæˆ²æˆ¿é–“ | `ROOM_ERROR` / `ROOM_MESSAGE` | `/api/games/rooms`ã€`/api/games/rooms/[slug]/*` |
| å­¸ç¿’ | `LEARN_ERROR` / `LEARN_MESSAGE` | `/api/learn/*`ï¼ˆç­†è¨˜ã€è­‰æ›¸ã€è¨è«–ã€å“é…’ç­†è¨˜ã€é€²åº¦ï¼‰ |
| ç®¡ç†å¾Œå° | `ADMIN_ERROR` / `ADMIN_MESSAGE` | `/api/admin/*`ï¼ˆknowledgeã€usersã€usageï¼‰ |

å®Œæ•´éŒ¯èª¤ç¢¼èˆ‡è¨Šæ¯è«‹è¦‹ [docs/api-error-codes.md](docs/api-error-codes.md)ã€‚

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork æœ¬å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“„ è¨±å¯è­‰

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT è¨±å¯è­‰ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£æ›´å¤šè³‡è¨Šã€‚

## ğŸ“ æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€šéä»¥ä¸‹æ–¹å¼è¯ç¹«ï¼š

- é–‹å•Ÿ [GitHub Issue](https://github.com/justsum66/cheersin/issues)
- ç™¼é€éƒµä»¶è‡³ support@cheersin.app

---

**Cheersin - è®“æ¯ä¸€æ¬¡èšæœƒéƒ½å……æ»¿æ­¡æ¨‚ï¼** ğŸŠ