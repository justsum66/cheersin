-- SM-C10~C17：劇本 4「醉後告白」— 浪漫派對風格（18+），6 章 6 角色，25 min
INSERT INTO public.scripts (id, title, slug, duration_min, min_players, max_players, is_18_plus)
VALUES (
  'a0e00004-0004-4000-8000-000000000004'::uuid,
  '醉後告白',
  'drunk-confession-04',
  25,
  4,
  6,
  true
)
ON CONFLICT (slug) DO NOTHING;

-- 6 章完整劇情
INSERT INTO public.script_chapters (id, script_id, chapter_index, title, content)
VALUES
  -- 第 1 章：派對開始（SM-C11）
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid, 0, '派對開始',
   '[{"type":"narrative","text":"大學畢業五年後的同學聚會。包廂裡燈光昏暗，音樂剛好，桌上擺滿了酒。熟悉的面孔，卻多了些歲月的痕跡。有些話，當年沒說出口；有些人，再見面還是會心跳加速。","highlights":["同學聚會","心跳加速"]},{"type":"narrative","text":"「好久不見！今晚規則很簡單——喝了酒就要說真話。」主持人舉起杯子。","isNpc":true},{"type":"punishment","rule":"破冰！每人先乾一杯！","detail":"每人喝一口，向左邊的人說一句當年想說但沒說的話"}]'),

  -- 第 2 章：圈圈真心話（SM-C12）
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid, 1, '圈圈真心話',
   '[{"type":"narrative","text":"大家圍成一圈。規則：每人問右邊的人一個問題，被問者必須誠實回答。不想回答？可以，但要喝三口。"},{"type":"vote","prompt":"先來熱個身——你覺得在座誰藏著最大的秘密？","options":["暗戀者","前任","八卦王","老好人","閃亮新人","神秘嘉賓"],"resultAction":"被選中的人先回答第一個真心話","timerSeconds":45},{"type":"punishment","rule":"被選中的人先回答：你現在最想對誰說什麼？","detail":"回答後喝一口"}]'),

  -- 第 3 章：告白環節（SM-C13）
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid, 2, '告白環節',
   '[{"type":"narrative","text":"酒過三巡，氣氛越來越嗨。主持人拿出一疊卡片：「每張卡上有一個問題。抽到的人必須回答，然後指定下一個人。」","isNpc":true},{"type":"narrative","text":"卡片問題包括：\n• 你最尷尬的醉酒故事是什麼？\n• 在座有沒有你心動過的人？\n• 你後悔錯過的一段感情？\n• 如果時光倒流，你會對誰告白？","highlights":["醉酒故事","心動","告白"]},{"type":"timer","prompt":"每人有 30 秒回答！超時要額外罰酒！","seconds":30,"timeoutPunishment":"超時！額外喝兩口！","successReward":"回答精彩的話全場鼓掌！"}]'),

  -- 第 4 章：惡性匿名投票（SM-C14）
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid, 3, '惡性匿名投票',
   '[{"type":"narrative","text":"現在進入匿名投票環節。每個人心裡想一個問題——你最想知道在座某人的什麼事？"},{"type":"vote","prompt":"你最想知道誰的秘密？","options":["暗戀者","前任","八卦王","老好人","閃亮新人","神秘嘉賓"],"resultAction":"得票最多的人必須回答大家的一個問題","timerSeconds":30},{"type":"punishment","rule":"被選中的人：回答一個匿名問題，或者選擇喝五口直接跳過！","detail":"選擇回答的話，只需喝一口；選擇跳過的話，喝五口","diceRange":[1,5]}]'),

  -- 第 5 章：真心對決（SM-C15）
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid, 4, '真心對決',
   '[{"type":"narrative","text":"最刺激的環節來了！兩兩配對，面對面坐著。每對問對方一個問題，用眼神判斷對方是否在說謊。","highlights":["配對","說謊"]},{"type":"choice","prompt":"選擇你的對決方式：","choices":[{"label":"🔥 火辣版：必須問感情相關的問題","consequence":"問感情問題，說謊被抓到喝三口"},{"label":"😈 惡魔版：可以問任何問題，但答案必須是真話","consequence":"任何問題，說謊被抓到喝五口"},{"label":"💕 甜蜜版：只能說對方的優點，最少三個","consequence":"每少說一個優點喝一口"}]},{"type":"punishment","rule":"每輪配對結束後，觀眾投票決定誰在說謊！","detail":"被判定說謊者喝酒"}]'),

  -- 第 6 章：最終告白（SM-C16）
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid, 5, '最終告白',
   '[{"type":"narrative","text":"夜深了，酒也喝了不少。燈光更暗了一些。主持人說：「最後一個環節——每人用一句話，對今晚在座的某個人說出你的心裡話。可以是感謝、道歉、告白……什麼都好。」","isNpc":true,"highlights":["心裡話","感謝","道歉","告白"]},{"type":"vote","prompt":"今晚誰的表現最讓你心動/最真誠？","options":["暗戀者","前任","八卦王","老好人","閃亮新人","神秘嘉賓"],"resultAction":"被選中的人獲得「今晚最佳」稱號","timerSeconds":60},{"type":"punishment","rule":"最後的儀式：全員舉杯！","detail":"為今晚的勇氣和真誠乾杯！每人喝一口"},{"type":"narrative","text":"🥂 不管你說了什麼、聽到了什麼，今晚的話就留在今晚吧。\n\n……嗎？😏\n\n「醉後告白」完。感謝參與！"}]');

-- SM-C17：6 個角色
INSERT INTO public.script_roles (id, script_id, role_name, role_description, secret_clue)
VALUES
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid,
   '暗戀者', '你暗戀在座的某個人已經五年了', '你暗戀的人就坐在你對面。今晚是你最後的機會。'),
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid,
   '前任', '你和在座的某人曾經交往過，分手時不太愉快', '你們分手的真正原因從來沒對彼此說過。'),
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid,
   '八卦王', '你知道每個人的秘密，但你自己的秘密更大', '你其實同時喜歡過兩個人——他們都在今晚的聚會上。'),
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid,
   '老好人', '你總是照顧所有人，卻從來不說自己的心事', '你其實最受傷的一次被所有人忽略了。'),
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid,
   '閃亮新人', '你是大家的新朋友，加入這群人不久', '你來參加聚會是因為有人私訊邀請你——你想知道是誰。'),
  (gen_random_uuid(), 'a0e00004-0004-4000-8000-000000000004'::uuid,
   '神秘嘉賓', '沒人確定你是怎麼來的，但你似乎認識每個人', '你是主辦者悄悄安排的——任務是讓今晚每個人都說出真心話。');
