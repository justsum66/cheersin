# =============================================================================
# Cheersin 環境變量範例 (P0-014)
# 複製為 .env.local 並填入實際值。勿加引號；URL 勿加結尾斜線。
# 新開發者依此可在約 30 分鐘內跑起專案。
# SEC-010：敏感變數勿以 NEXT_PUBLIC_ 暴露，僅供 server（API routes、server components、scripts）使用。
# 審計：見 docs/security-env-audit.md
# 允許的 NEXT_PUBLIC_：APP_URL, APP_NAME, SUPABASE_URL, SUPABASE_ANON_KEY,
#   TURNSTILE_SITE_KEY, SW_ENABLED, SENTRY_DSN, GA_ID, SOCIAL_PROOF_COUNT,
#   VAPID_PUBLIC_KEY, PROMO_END_MS, MAINTENANCE, MAINTENANCE_MESSAGE, FEATURE_*
# =============================================================================

# -----------------------------------------------------------------------------
# 必填 — 最低可運行（首頁、靈魂酒測、遊戲大廳、AI 助理需以下皆設）
# -----------------------------------------------------------------------------

# Supabase (Dashboard → Settings → API)。URL 勿結尾斜線。
# SUPABASE_SERVICE_ROLE_KEY 僅供 server（API、scripts）使用，嚴禁設為 NEXT_PUBLIC_*。
# 專案 ref 須與 next.config/layout 一致：wdegandlipgdvqhgmoai
# 資料庫結構：執行 supabase/migrations 或 Dashboard SQL Editor 貼上 RUN_ALL_IN_DASHBOARD.sql。
# 本機：npm run supabase:push；無 CLI 權限時用 Dashboard 手動執行 migrations。
NEXT_PUBLIC_SUPABASE_URL=https://wdegandlipgdvqhgmoai.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# Groq (console.groq.com) — Chat 主線，必填
GROQ_API_KEY=

# OpenRouter (openrouter.ai/keys) — Embedding + Chat fallback，必填
OPENROUTER_API_KEY=

# Pinecone：向量庫。Dashboard 建立 index 後取得 INDEX HOST（如 https://xxx.svc.region.pinecone.io），勿結尾斜線。
# 未設定時 /api/recommend、/api/chat RAG 不查向量；/api/health 顯示 not_configured。
PINECONE_API_URL=
PINECONE_API_KEY=

# -----------------------------------------------------------------------------
# 選填 — 功能擴充
# -----------------------------------------------------------------------------

# NVIDIA NIM (build.nvidia.com → Get API Key) — Chat fallback
# NVIDIA_NIM_API_KEY=

# Embedding 維度：若 Pinecone index 為 1024 維才需設定；預設 1536
# EMBEDDING_MODEL=intfloat/multilingual-e5-large
# EMBEDDING_DIMENSION=1024

# Resend — 訂閱到期提醒、扣款失敗通知 Email
# 使用自有網域並在 Resend 完成網域驗證與 DKIM DNS 設定，可啟用 DKIM 簽章、提高送達率。詳見 docs/email-dkim-setup.md
# RESEND_API_KEY=
# RESEND_FROM_EMAIL=Cheersin <noreply@yourdomain.com>

# PayPal 訂閱（未設定時 /api/subscription 回 503）
# PAYPAL_CLIENT_ID=
# PAYPAL_CLIENT_SECRET=
# 生產環境必填 — Webhook 簽名驗證（PayPal Dashboard → Webhooks → 複製 ID）
# PAYPAL_WEBHOOK_ID=
# 選填：若設定則不重複建立 product/plan
# PAYPAL_BASIC_PLAN_ID=
# PAYPAL_PREMIUM_PLAN_ID=

# Upstash Redis — 選填，分散式 rate limit（多實例時限流一致）
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=

# PWA 推播（PWA.3）— Web Push 訂閱需 VAPID 公鑰
# NEXT_PUBLIC_VAPID_PUBLIC_KEY=

# Trivia 題目（the-trivia-api.com 註冊取得）。未設定時使用本地題庫，不擋部署。
# TRIVIA_API_KEY=

# OneSignal 推播（onesignal.com）。未設定時 /api/notifications/onesignal-user 回 503。
# App ID 範例（可公開）；REST API Key 請於 Dashboard → Settings → Keys 取得，僅填於 .env.local 勿提交。
# ONESIGNAL_APP_ID=df9af18e-c7f3-40c2-b454-b1460b496ccd
# ONESIGNAL_REST_API_KEY=

# Sentry 錯誤與效能監控（sentry.io）。未設定則不送事件。可選 SENTRY_ORG / SENTRY_PROJECT 用於 source map 上傳。
# SENTRY_DSN=
# NEXT_PUBLIC_SENTRY_DSN=

# -----------------------------------------------------------------------------
# 預覽 vs 生產（DEV-015）
# -----------------------------------------------------------------------------
# 本機：.env.local；預覽（Vercel Preview）：專案 Settings → Environment Variables 設 Preview；
# 生產：設 Production。敏感變數（PAYPAL_*、SUPABASE_SERVICE_ROLE_KEY、GROQ_API_KEY 等）
# 勿在 Preview 使用生產值；可用 staging 或 mock。詳見 docs/security-env-audit.md

# -----------------------------------------------------------------------------
# 應用與功能開關
# -----------------------------------------------------------------------------

# 應用網址（用於 OAuth callback、訂閱 return_url 等）
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=Cheersin

# 社會認證數字（首頁/定價頁「XX+ 用戶」）
# NEXT_PUBLIC_SOCIAL_PROOF_COUNT=12000

# 限時優惠倒數結束時間（Unix ms）；不設或 0 則定價頁不顯示倒數
# NEXT_PUBLIC_PROMO_END_MS=

# 遊戲房間：僅在設為 true 時使用 in-memory mock（預設連真實 Supabase）
# NEXT_PUBLIC_GAMES_ROOM_MOCK=true

# Chat 模型順序（選填）。CHAT_PRIMARY=groq|nim|openrouter；CHAT_FALLBACK_ORDER=groq,nim,openrouter
# CHAT_PRIMARY=groq
# CHAT_FALLBACK_ORDER=groq,nim,openrouter

# Groq 模型（選填）。GROQ_CHAT_MODEL=llama-3.3-70b-versatile；GROQ_VISION_MODEL 用於酒標辨識
# GROQ_CHAT_MODEL=llama-3.3-70b-versatile
# GROQ_VISION_MODEL=meta-llama/llama-4-scout-17b-16e-instruct

# Chat 請求逾時（ms）；預設 30000。Groq/NIM/OpenRouter 逾時一致。
# CHAT_TIMEOUT_MS=30000

# RAG（Pinecone 知識庫）。RAG_TOP_K=5；RAG_SIMILAR_TOP_K=3；RAG_NAMESPACE=knowledge；RAG_SCORE_MIN=0 不過濾
# RAG_TOP_K=5
# RAG_SIMILAR_TOP_K=3
# RAG_NAMESPACE=knowledge
# RAG_SCORE_MIN=0

# R2-017 Cloudflare Turnstile（登入/忘記密碼真人驗證）。未設定時表單仍可送出（開發用）。
# NEXT_PUBLIC_TURNSTILE_SITE_KEY=
# TURNSTILE_SECRET_KEY=

# CORS 白名單（選填）。僅在需跨域呼叫 /api 時設定單一 origin 或逗號分隔
# CORS_ALLOWED_ORIGINS=https://admin.example.com

# Analytics 額外持久化事件（選填，逗號分隔）
# ANALYTICS_PERSIST_EXTRA=custom_event_1,custom_event_2
