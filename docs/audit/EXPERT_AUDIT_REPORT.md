# Cheersin 多視角專家評分與收入潛能報告

依據本 Repo 程式結構、[REAL_COMPLETION_RATE.md](../REAL_COMPLETION_RATE.md)、[p0-tasks-done.md](../p0-tasks-done.md) 與各任務文件進行結構化評分。評分維度 1～10，10 為最佳。

---

## 一、視角與維度評分

### CEO（收入 / ROI）

| 維度       | 分數 | 短評 |
|------------|------|------|
| 收入潛能   | 7    | 訂閱（PayPal）、定價頁、遊戲解鎖已就緒；B2B／一次性付費尚未變現。 |
| 商業閉環   | 6    | 轉換漏斗存在（免費→Pro、劇本殺 1 劇本限制）；缺少明確 A/B 與留存指標。 |
| 可規模化   | 6    | 多區域、多語系有基礎；訂閱與遊戲負載需監控成本。 |

**建議**：訂閱為現成收入主軸，優先優化定價頁轉換與 3 個月內留存；B2B 可列為 Phase 2 驗證。

---

### CTO（架構 / 技術債）

| 維度       | 分數 | 短評 |
|------------|------|------|
| 程式品質   | 7    | TypeScript、hooks 集中（useGameRoom、useGameState）、任務文件完整；部分 API 仍混用錯誤格式。 |
| 架構擴展   | 7    | Next.js App Router、Supabase、Groq/Pinecone 分層清楚；Realtime 未全面取代輪詢。 |
| 技術債     | 6    | P0 100%、P1 66.5%；DC-09～15、SB-08/09/17 未全做，型別與錯誤統一待補。 |

**建議**：先完成 Supabase 型別生成（SB-09）與 API 錯誤統一（SB-08），再擴新功能。

---

### Security

| 維度       | 分數 | 短評 |
|------------|------|------|
| 認證與授權 | 7    | Supabase Auth、RLS 已啟用；game_states 已收緊；ai_feedback INSERT 仍過寬。 |
| 資料保護   | 7    | 敏感欄位未全面排除於 log（SB-11）；輸入 stripHtml、Zod 部分 API 已用。 |
| 合規與暴露 | 6    | CSP、隱私政策、服務條款已有；Postgres 錯誤不可洩漏使用者端（SB-22 待強化）。 |

**建議**：收緊 ai_feedback RLS、落實 SB-11/SB-22，並做一次 RLS 手動檢查清單（SB-29）。

---

### UX

| 維度       | 分數 | 短評 |
|------------|------|------|
| 一致性     | 7    | 設計系統、games-focus-ring、min-h 48px 有沿用；按鈕與錯誤 toasts 仍部分未統一。 |
| 無障礙     | 7    | 劇本殺角色卡 aria-controls/region、派對房 aria、焦點管理已有；表單錯誤關聯可再強化。 |
| 回饋與載入 | 7    | Skeleton、AnimatePresence、Toast 普遍；部分列表仍缺明確空狀態。 |

**建議**：DC-09/10/11 錯誤與按鈕、骨架統一後，再補 PR-13 空狀態與關鍵路徑 E2E。

---

### DevOps

| 維度       | 分數 | 短評 |
|------------|------|------|
| CI/CD      | 7    | GitHub Actions：lint、unit、build、E2E；E2E 並行時偶發 ECONNRESET，需環境控管。 |
| 可觀測性  | 6    | requestId、durationMs、api_calls 有；Groq 失敗率與 Supabase 慢查詢未集中儀表。 |
| 部署與環境 | 7    | .env.example、validate-env、health 端點齊全；遷移與備份策略需文件化（SB-27）。 |

**建議**：health/debug 暴露 Groq 近期失敗率或 fallback 次數；補上遷移與還原說明。

---

### QA

| 維度       | 分數 | 短評 |
|------------|------|------|
| 測試覆蓋   | 6    | 單元測試有（groq、subscription-lifecycle 等）；E2E critical-paths 有，覆蓋率未量化。 |
| 邊界與錯誤| 6    | 樂觀更新與 rollback（SM-12）、重試（fetchRoom）已有；邊界與 429/timeout 情境可加自動化。 |
| 回歸       | 6    | 依賴手動與 build；script-murder/party-room 流程建議納入穩定 E2E 套件。 |

**建議**：為關鍵 API（chat、games/rooms、subscription）與關鍵頁面增加穩定 E2E 或 API 測試。

---

### Product

| 維度       | 分數 | 短評 |
|------------|------|------|
| 功能完整度 | 7   | 靈魂酒測、派對房、劇本殺、派對 DJ、訂閱、AI 侍酒師主流程可走通。 |
| 差異化     | 7   | 酒類 + 派對遊戲 + AI 組合明確；B2B 與企業劇本授權尚未產品化。 |
| 成長與留存  | 6   | 遊戲統計、升級提示（R2-181）有；缺少系統化 onboarding 與郵件/推播留存。 |

**建議**：訂閱與遊戲數據已有，可定義 1～2 個北極星指標並接進 analytics。

---

### Legal / 合規

| 維度       | 分數 | 短評 |
|------------|------|------|
| 隱私與條款 | 7    | 隱私政策、服務條款、Cookie、年齡聲明已有（R2-029）。 |
| 資料處理   | 6    | 用戶資料經 Supabase；個資保留與刪除流程建議文件化並可營運執行。 |
| 酒類法規   | 6    | 未滿 18 歲提醒、免責有；各地酒類廣告規範差異未見明確清單。 |

**建議**：補一份簡短「資料保留與刪除」營運說明，並標註主要市場之酒類行銷限制。

---

## 二、收入潛能評估（全部管道）

| 管道         | 潛力分數(1-10) | 前置條件 | 建議下一步 |
|--------------|----------------|----------|------------|
| 訂閱（PayPal）| 8              | 定價頁、Webhook、profiles 已接；轉換率待量測 | 優化定價頁 CTA、A/B 測試、追蹤付費轉換與 LTV |
| B2B / 企業   | 5              | 派對房、劇本殺可打包；尚無授權與計費產品 | 定義 1 個企業方案（如「劇本殺授權」）並做 landing + 聯絡流程 |
| 一次性付費   | 6              | 單次解鎖劇本、單次遊戲可設計；目前以訂閱為主 | 若訂閱轉換不足，可試「單劇本付費」或「單次派對包」 |
| 廣告 / 聯盟  | 4              | 流量與版面可放；酒類廣告法規與品牌調性需兼顧 | 僅在合規且不影響體驗處小規模試放；聯盟以酒款推薦連結為主 |

**總結**：訂閱為最可直接變現且已就緒；B2B 與一次性為擴充選項；廣告/聯盟為輔助，需合規與體驗平衡。

---

## 三、總結

- **加權總分（滿分 10）**：約 **6.8**（各視角均權後）。
- **前 5 項優勢**：P0 完成率 100%、訂閱與 PayPal 整合就緒、RLS 與 Auth 已強化、任務與完成率文件完整、多語系與無障礙有基礎。
- **前 5 項風險／改進**：API 錯誤與型別未全統一、E2E 穩定性與覆蓋待加強、收入僅訂閱一路、B2B 未產品化、可觀測性（Groq/Supabase）未集中。
- **3 個月內建議優先行動**：  
  1. 完成 Supabase 剩餘 Advisors 與 SB-08/SB-09/SB-17，型別與錯誤統一。  
  2. 訂閱轉換與留存指標可視化，並做 1～2 次定價/CTA 優化。  
  3. 為 chat、games/rooms、subscription 與關鍵頁面建立穩定 E2E 或 API 測試。  
  4. Groq fallback 與 429/timeout 處理強化，並在 health 暴露失敗率。  
  5. 撰寫「資料保留與刪除」營運說明，並標註主要市場酒類行銷注意事項。

---

*本報告可依後續改版重跑；評分依據為當下 Repo 與文件狀態。*
